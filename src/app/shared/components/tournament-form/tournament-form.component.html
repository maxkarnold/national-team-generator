<div class="form-container">
  <form class="number-form" [formGroup]="tournamentForm" novalidate (ngSubmit)="checkTournamentForm()">
    <div class="inputs">
      <div class="host-nation">
        <label for="hostNations">Host Nation(s)</label>
        <!-- <select formControlName="hostNations" [compareWith]="compareArr" required>
          <option *ngFor="let nations of potentialHosts" [ngValue]="nations" placeholder="Choose Host Nation(s)">
            <span *ngFor="let nation of nations">{{ nation.emoji }} {{ nation.name }} </span>
          </option>
        </select> -->
        <ng-select
          formControlName="hostNations"
          [items]="potentialHosts"
          [multiple]="true"
          placeholder="Please Select A Host Nation(s)"
          (ngModelChange)="hostChanged($event)"
          [compareWith]="compareHosts"
          bindLabel="name"
          [groupBy]="groupHosts"
          required>
          <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
            <div class="ng-value" *ngFor="let item of items">
              <span class="ng-value-label">{{ item.emoji }} {{ item.name }}</span>
              <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">x</span>
            </div>
          </ng-template>
          <ng-template ng-option-tmp let-item="item">
            <span>{{ item.emoji }} {{ item.name }}</span>
          </ng-template>
        </ng-select>
      </div>

      <div>
        <label for="region">Regions Available</label>
        <ng-select
          formControlName="availableRegions"
          [items]="regions"
          [multiple]="true"
          [selectableGroup]="true"
          [selectableGroupAsModel]="false"
          [closeOnSelect]="false"
          [groupBy]="groupRegion"
          (ngModelChange)="regionChanged($event)"
          [compareWith]="compareRegions"
          required
          placeholder="Please Select A Region">
        </ng-select>
      </div>

      <div>
        <label for="numOfTeams">Number of Teams</label>
        <select formControlName="numOfTeams" required class="border-black/25 border p-1 rounded">
          <option value="32">32 - World Cup</option>
          <option value="24" disabled>24 - EUROS, AFCON</option>
          <option value="12" disabled>12 - Copa Am√©rica</option>
        </select>
      </div>

      <div>
        <label for="numOfGames">Group Games Per Opponent (1-3)</label>
        <input
          type="number"
          formControlName="numOfGames"
          min="1"
          max="3"
          (ngModelChange)="numOfGamesChanged($event)"
          class="border-black/25 border p-1 rounded" />
      </div>
    </div>

    <button type="submit" [disabled]="!tournamentForm.valid" class="bg-secondary_light text-white rounded">Setup Tournament</button>
    <button type="button" *ngIf="user && coaches.length < 1" (click)="addCoaches()" class="bg-secondary_light text-white rounded">
      Add Coaches (Beta)
    </button>
    <button
      type="button"
      [disabled]="!tournamentForm.valid || cannotSave"
      (click)="setupAndSaveTournament()"
      class="bg-secondary_light text-white rounded">
      {{ buttonDisplay }}
    </button>
  </form>
  <button class="button" *ngIf="tournament?.groups" (click)="simulateTournamentButton()" class="bg-secondary_light text-white rounded">
    Simulate
  </button>
</div>
